const translations = {
  'zh-CN': {
    title: '缘分测试 | W&T',
    description: '一个专业的缘分测试平台，结合中国玄学（紫微斗数、易经、生肖）和西方占星术。用科学与传统探索你的命运。',
    nav: {
      features: '特色功能',
      how: '使用方法',
      faq: '常见问题',
      contact: '联系我们'
    },
    hero: {
      title: '命运与科学的交汇',
      subtitle: '体验独特的缘分测试，融合中国玄学（紫微斗数、易经、生肖）和西方占星术的智慧。我们的专业算法揭示你们之间的深层联系，提供基于传统和现代科学的见解。',
      cta: '开始缘分测试'
    },
    test: {
      title: '缘分测试',
      yourName: '您的姓名',
      yourBirthday: '您的生日',
      partnerName: '伴侣姓名',
      partnerBirthday: '伴侣生日',
      calculate: '计算缘分'
    },
    features: {
      title: '我们的特色功能',
      eastWest: {
        title: '东西方结合',
        desc: '整合紫微斗数、易经、中国生肖和西方占星术，全面分析你们的关系命运。'
      },
      algorithm: {
        title: '专业算法',
        desc: '我们的专有多维算法结合玄学智慧和科学严谨，提供可靠且富有洞察力的结果。'
      },
      interpretation: {
        title: '深入解读',
        desc: '不仅获得缘分分数，还能得到详细的评分和专业解释，帮助您理解独特的联系。'
      }
    },
    howItWorks: {
      title: '使用方法',
      step1: {
        title: '输入信息',
        desc: '填写双方姓名和生日。'
      },
      step2: {
        title: '智能分析',
        desc: '我们的系统使用玄学和占星算法进行分析。'
      },
      step3: {
        title: '综合报告',
        desc: '获得缘分分数、评级和详细的专业解释。'
      },
      step4: {
        title: '个性化建议',
        desc: '获得量身定制的关系建议和改进技巧。'
      }
    },
    faq: {
      title: '常见问题',
      q1: {
        question: '你们的缘分测试可靠吗？',
        answer: '我们的平台结合中国玄学和西方占星术的深度，使用科学设计的算法，提供高度可信的结果。'
      },
      q2: {
        question: '为什么需要姓名和生日？',
        answer: '姓名和生日对于准确的玄学和占星分析至关重要，包括紫微斗数、易经、生肖和星盘。'
      },
      q3: {
        question: '我的信息安全吗？',
        answer: '所有信息仅用于缘分分析，绝不会与第三方共享。您的隐私是我们的首要任务。'
      },
      q4: {
        question: '服务是免费的吗？',
        answer: '基础缘分测试是免费的。我们很快将推出高级深度付费分析，为寻求更深入见解的用户提供服务。'
      }
    },
    footer: {
      copyright: '版权所有 © 2024 W&T',
      contact: '联系方式：453039687@qq.com',
      description: '一个专业的缘分测试平台，结合中国玄学和西方占星术。'
    }
  },
  'en': {
    title: 'Fate Compatibility Test | W&T',
    description: 'A professional fate compatibility platform combining Chinese metaphysics (Zi Wei Dou Shu, I Ching, Zodiac) and Western astrology. Discover your destiny with science and tradition.',
    nav: {
      features: 'Features',
      how: 'How it Works',
      faq: 'FAQ',
      contact: 'Contact'
    },
    hero: {
      title: 'Where Destiny Meets Science',
      subtitle: 'Experience a unique compatibility test that blends the wisdom of Chinese metaphysics (Zi Wei Dou Shu, I Ching, Zodiac) with Western astrology. Our professional algorithm reveals the depth of your connection, offering insights grounded in both tradition and modern science.',
      cta: 'Start Your Fate Test'
    },
    test: {
      title: 'Fate Compatibility Test',
      yourName: 'Your Name',
      yourBirthday: 'Your Birthday',
      partnerName: 'Partner\'s Name',
      partnerBirthday: 'Partner\'s Birthday',
      calculate: 'Calculate Compatibility'
    },
    features: {
      title: 'Our Unique Features',
      eastWest: {
        title: 'East Meets West',
        desc: 'Integrating Zi Wei Dou Shu, I Ching, Chinese Zodiac, and Western astrology for a holistic analysis of your relationship destiny.'
      },
      algorithm: {
        title: 'Professional Algorithm',
        desc: 'Our proprietary multi-dimensional algorithm combines metaphysical wisdom and scientific rigor, delivering reliable and insightful results.'
      },
      interpretation: {
        title: 'In-depth Interpretation',
        desc: 'Receive not only a compatibility score, but also a detailed rating and expert explanation, helping you understand your unique connection.'
      }
    },
    howItWorks: {
      title: 'How It Works',
      step1: {
        title: 'Enter Information',
        desc: 'Fill in both names and birthdays.'
      },
      step2: {
        title: 'Intelligent Analysis',
        desc: 'Our system analyzes using a blend of metaphysical and astrological algorithms.'
      },
      step3: {
        title: 'Comprehensive Report',
        desc: 'Get your compatibility score, rating, and a detailed, professional explanation.'
      },
      step4: {
        title: 'Personalized Advice',
        desc: 'Receive tailored relationship advice and improvement tips.'
      }
    },
    faq: {
      title: 'Frequently Asked Questions',
      q1: {
        question: 'Is your compatibility test reliable?',
        answer: 'Our platform combines the depth of Chinese metaphysics and Western astrology, using a scientifically designed algorithm for highly credible results.'
      },
      q2: {
        question: 'Why do you need names and birthdays?',
        answer: 'Names and birthdays are essential for accurate metaphysical and astrological analysis, including Zi Wei Dou Shu, I Ching, Zodiac, and star charts.'
      },
      q3: {
        question: 'Is my information safe?',
        answer: 'All information is used solely for compatibility analysis and will never be shared with third parties. Your privacy is our priority.'
      },
      q4: {
        question: 'Is the service free?',
        answer: 'Basic compatibility tests are free. We will soon launch advanced, in-depth paid analysis for those seeking deeper insights.'
      }
    },
    footer: {
      copyright: '© 2024 W&T. All rights reserved.',
      contact: 'Contact: 453039687@qq.com',
      description: 'A professional fate compatibility platform combining Chinese metaphysics and Western astrology.'
    }
  }
};

// 获取当前语言
function getCurrentLanguage() {
  return localStorage.getItem('language') || 'zh-CN';
}

// 初始化语言切换按钮
function initLanguageSwitcher() {
  const switcher = document.createElement('div');
  switcher.className = 'language-switcher';
  switcher.innerHTML = `
    <button onclick="setLanguage('zh-CN')" class="lang-btn" data-lang="zh-CN">中文</button>
    <button onclick="setLanguage('en')" class="lang-btn" data-lang="en">English</button>
  `;
  document.querySelector('header .container').appendChild(switcher);
  updateLanguageButtons();
}

// 更新语言按钮状态
function updateLanguageButtons() {
  const currentLang = getCurrentLanguage();
  document.querySelectorAll('.lang-btn').forEach(btn => {
    if (btn.dataset.lang === currentLang) {
      btn.classList.add('active');
    } else {
      btn.classList.remove('active');
    }
  });
}

// 设置语言
function setLanguage(lang) {
  localStorage.setItem('language', lang);
  updateContent();
  updateLanguageButtons();
}

// 更新页面内容
function updateContent() {
  const lang = getCurrentLanguage();
  const t = translations[lang];
  
  // 更新页面标题和描述
  document.title = t.title;
  document.querySelector('meta[name="description"]').content = t.description;
  
  // 更新导航
  document.querySelector('.nav-features').textContent = t.nav.features;
  document.querySelector('.nav-how').textContent = t.nav.how;
  document.querySelector('.nav-faq').textContent = t.nav.faq;
  document.querySelector('.nav-contact').textContent = t.nav.contact;
  
  // 更新英雄区域
  document.querySelector('.hero-title').textContent = t.hero.title;
  document.querySelector('.hero-subtitle').textContent = t.hero.subtitle;
  document.querySelector('.hero-cta').textContent = t.hero.cta;
  
  // 更新测试表单
  document.querySelector('.test-title').textContent = t.test.title;
  document.querySelector('label[for="yourName"]').textContent = t.test.yourName;
  document.querySelector('label[for="yourBirthday"]').textContent = t.test.yourBirthday;
  document.querySelector('label[for="otherName"]').textContent = t.test.partnerName;
  document.querySelector('label[for="otherBirthday"]').textContent = t.test.partnerBirthday;
  document.querySelector('.test-calculate').textContent = t.test.calculate;
  
  // 更新特色功能
  document.querySelector('.features-title').textContent = t.features.title;
  document.querySelector('.features-eastwest-title').textContent = t.features.eastWest.title;
  document.querySelector('.features-eastwest-desc').textContent = t.features.eastWest.desc;
  document.querySelector('.features-algorithm-title').textContent = t.features.algorithm.title;
  document.querySelector('.features-algorithm-desc').textContent = t.features.algorithm.desc;
  document.querySelector('.features-interpretation-title').textContent = t.features.interpretation.title;
  document.querySelector('.features-interpretation-desc').textContent = t.features.interpretation.desc;
  
  // 更新使用方法
  document.querySelector('.how-title').textContent = t.howItWorks.title;
  document.querySelector('.how-step1-title').textContent = t.howItWorks.step1.title;
  document.querySelector('.how-step1-desc').textContent = t.howItWorks.step1.desc;
  document.querySelector('.how-step2-title').textContent = t.howItWorks.step2.title;
  document.querySelector('.how-step2-desc').textContent = t.howItWorks.step2.desc;
  document.querySelector('.how-step3-title').textContent = t.howItWorks.step3.title;
  document.querySelector('.how-step3-desc').textContent = t.howItWorks.step3.desc;
  document.querySelector('.how-step4-title').textContent = t.howItWorks.step4.title;
  document.querySelector('.how-step4-desc').textContent = t.howItWorks.step4.desc;
  
  // 更新FAQ
  document.querySelector('.faq-title').textContent = t.faq.title;
  document.querySelector('.faq-q1-question').textContent = t.faq.q1.question;
  document.querySelector('.faq-q1-answer').textContent = t.faq.q1.answer;
  document.querySelector('.faq-q2-question').textContent = t.faq.q2.question;
  document.querySelector('.faq-q2-answer').textContent = t.faq.q2.answer;
  document.querySelector('.faq-q3-question').textContent = t.faq.q3.question;
  document.querySelector('.faq-q3-answer').textContent = t.faq.q3.answer;
  document.querySelector('.faq-q4-question').textContent = t.faq.q4.question;
  document.querySelector('.faq-q4-answer').textContent = t.faq.q4.answer;
  
  // 更新页脚
  document.querySelector('.footer-copyright').textContent = t.footer.copyright;
  document.querySelector('.footer-contact').textContent = t.footer.contact;
  document.querySelector('.footer-description').textContent = t.footer.description;
}

// 页面加载完成后初始化
document.addEventListener('DOMContentLoaded', () => {
  initLanguageSwitcher();
  updateContent();
}); 